<!DOCTYPE HTML>
<html lang="en" class="light sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>CPS Handbook</title>
        <meta name="robots" content="noindex">


        <!-- Custom HTML head -->

        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" id="highlight-css" href="highlight.css">
        <link rel="stylesheet" id="tomorrow-night-css" href="tomorrow-night.css">
        <link rel="stylesheet" id="ayu-highlight-css" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->


        <!-- Provide site root and default themes to javascript -->
        <script>
            const path_to_root = "";
            const default_light_theme = "light";
            const default_dark_theme = "navy";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="toc.js"></script>
    </head>
    <body>
    <div id="body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                let theme = localStorage.getItem('mdbook-theme');
                let sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            const default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? default_dark_theme : default_light_theme;
            let theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            let sidebar = null;
            const sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            sidebar_toggle.checked = sidebar === 'visible';
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="toc.html"></iframe>
            </noscript>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="default_theme">Auto</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">CPS Handbook</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="introduction"><a class="header" href="#introduction">Introduction</a></h1>
<p>CPS Handbook is a static website that serves as a handy reference for all of the things I do, but often forget the details.</p>
<p>This site is built using the Rust-based <code>mdbook</code> program, which compiles markdown files into a nicely-formated website. An mdbook project consists of a <em>book</em> folder (you can name this anything you like) and a <em>docs</em> folder. the <em>book</em> folder contains your markdown source files and a <em>book.toml</em> file with metadata about your project. The <em>docs</em> folder is auto-generated by mdbook and contains the fully-built static website.</p>
<h2 id="installing-mdbook"><a class="header" href="#installing-mdbook">Installing mdbook</a></h2>
<p>The mdbook program is a single executable that can be located anywhere and run via a full path or by updating your path statement to include its location. In many cases, I like to go with a "portable install" setup, in which you use a single common directory location for various utility type programs.</p>
<p>For download and install instructions, see: <a href="https://rust-lang.github.io/mdBook/">https://rust-lang.github.io/mdBook/</a>.</p>
<p>In my case, I downloaded mdbook-v0.4.48-aarch64-apple-darwin.tar.gz, unzipped it, and copied the executable (mdbook) to ~/swtool. Then, I updated .zshrc to add ~/swtool to the path.</p>
<pre><code class="language-zsh">export PATH=$PATH:~/swtool
</code></pre>
<h2 id="using-mdbook"><a class="header" href="#using-mdbook">Using mdbook</a></h2>
<p>The mdbook tool creates books from markdown files. The generated book is outbook to a designated folder, which can then be deployed as a static website.</p>
<p>New books can be generated via:</p>
<pre><code>mdbook init my-book
</code></pre>
<p>Once created change the current directory to the new book:</p>
<pre><code>cd my-book
</code></pre>
<p>There are several ways to render a book, but one of the easiest methods is to use the serve command, which will build your book and start a local webserver at <code>localhost:3000</code>.</p>
<pre><code>mdbook serve
</code></pre>
<p>To start the webserver and launch the mdbook site in your default browser, add the <code>--open</code> option.</p>
<pre><code>mdbook serve --open
</code></pre>
<p>If you run into caching issues when rendering the site in your web browser, there are a couple of things you can do.</p>
<p>Remove the built static website (essentially delete the /docs folder) with the following command:</p>
<pre><code>mdbook clean
</code></pre>
<p>​
Clear your browser cache and close your browser.
​
Restart the mdbook server, which will rebuild the /docs folder and serve up a fresh copy of the book:</p>
<pre><code>mdbook serve --open
</code></pre>
<h2 id="toml-file"><a class="header" href="#toml-file">TOML File</a></h2>
<p>The mdbook tool is a Rust program and as such follows Rust practices, including the use of a TOML file for application configuration, dependency management, etc. Take a look at the TOML file (book.toml) for this site.
​</p>
<h2 id="hosting-a-static-website"><a class="header" href="#hosting-a-static-website">Hosting a Static Website</a></h2>
<p>GitHub provide a useful service to host a static website located on your repository. Setup is done through GitHub settings for the repository, and in particular telling GitHub which branch to use and which folder within this branch.
​
For jlv-design, I have configured GitHub as follows:</p>
<p><strong>Branch:</strong> github-pages<br />
<strong>Folder:</strong> /docs<br />
​<br />
To generate a site, push your latest code to the designated branch, e.g., github-pages, and create a pull request. I've found that you only need to create the PR to trigger a rebuild and redeployment of the site. It is not necessary to merge to the main branch to activate the updated site, though you should merge code to main periodically as you normally would.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="git-for-people"><a class="header" href="#git-for-people">Git for People</a></h1>
<p>Things I always forget.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="getting-started"><a class="header" href="#getting-started">Getting Started</a></h1>
<h3 id="set-up-git"><a class="header" href="#set-up-git">Set up Git</a></h3>
<p>Set up basic information about yourself and how you want to work with Git.</p>
<pre><code class="language-bash">git config --global user.name "Chuck Sylvester"
git config --global user.email charles.sylvester@va.gov
git config --global color.ui true
</code></pre>
<p>Another useful command when running under Windows and the repo has long filenames:</p>
<pre><code class="language-bash">git config --global core.longpaths true
</code></pre>
<p>To display your Git settings:</p>
<pre><code class="language-bash">git config --list
git config --local --list
git config --global --list
</code></pre>
<h3 id="clone-remote-repository"><a class="header" href="#clone-remote-repository">Clone Remote Repository</a></h3>
<p>How to clone a remote repository to your local instance.</p>
<p>I have two-factor authentication enabled and a Personal Access Token, so I need to provide a more verbose version of the clone command. I typically use the HTTPS option for cloning.</p>
<p>After copying the desired repo URL to the clipboard, you need to tweak it after pasting into termninal command line. A while back, I did this by including both the username and personal access token as part of the clone command. After doing this for an initial repository, I only needed to include username for subsequent clones.</p>
<p>However, I recently tried this approach and it did not work. So instead, I cloned with only my username added, and then when prompted for password, I pasted in my personal access token string.</p>
<p>For example, to clone the department-of-veterans-affairs repository, jlv-cv-repo, I issue the following commands:</p>
<pre><code class="language-bash">cd c:\work\swdev\va
git clone chuck-sylvester@github.com/department-of-veterans-affairs/jlv-cv-repo.git
</code></pre>
<p>Then, when prompted for password, paste in your personal access token string and hit enter. It may not be necessary to provide your personal access token string upon subsequent clone statements.</p>
<p>I've recently had some trouble with this approach on my GFE. Instead, I've had to issue a variation of the clone commnad that uses my Personal Access Token as part of the URL. This worked when I cloned the two JLV Test Automation repositories.</p>
<pre><code class="language-bash">cd c:\work\swdev\va
git clone https://&lt;personal-access-token&gt;@github.com/department-of-veterans-affairs/jlv-cv-automation-framework.git
git clone https://&lt;personal-access-token&gt;@github.com/department-of-veterans-affairs/jlv-test-automation.git
</code></pre>
<h3 id="working-with-the-gitignore-file"><a class="header" href="#working-with-the-gitignore-file">Working with the .gitignore file</a></h3>
<p>Use # symbol for comments.<br />
MacOS file type to ignore: <code>.DS_Store</code></p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="working-with-branches"><a class="header" href="#working-with-branches">Working with Branches</a></h1>
<p>By default, when a new repository is initialized, it creates branch "master" (or "main").</p>
<p>Generally, the JLV/CV repositories are set up such that developers cannot work directly against the main branch. Instead, they create their own branch(es) related to their specific work. Then, their updates can be merged into the long running development branch as part of a Pull Request (PR).</p>
<p>To create a new branch, e.g. "my-branch", use the git command:</p>
<pre><code class="language-bash">git branch my-branch
</code></pre>
<p>This creates a new pointer to the same commit you're currently on. Git keeps a special pointer called HEAD, which is a pointer to the local branch you're currently on. In this case, if you are currently on "main", the git branch command only creates a new branch. It did not switch to that branch.</p>
<p>You can see this by running a git log command that shows you where the branch pointers are pointing. This option is called --decorate.</p>
<pre><code class="language-bash">git log --oneline --decorate
</code></pre>
<p>To switch to an existing branch, run the git checkout command, e.g.:</p>
<pre><code class="language-bash">git checkout my-branch
</code></pre>
<p>This moves the HEAD to poit to the my-branch branch. Any changes made will only be visible in my-branch.</p>
<p>You can use a shortcut command to create and switch to a new branch:</p>
<pre><code class="language-bash">git checkout -b my-branch
</code></pre>
<p>To switch back to the main branch:</p>
<pre><code class="language-bash">git checkout main
</code></pre>
<p>The git branch command does more than just create and delete branches. If you run it with no arguments, you get a simple listing of your current branches.</p>
<pre><code class="language-bash">git branch
</code></pre>
<p>To see the last commit on each branch, run the following:</p>
<pre><code class="language-bash">git branch -v
</code></pre>
<p>To see a list of all branches in the remote repository, use either of these commands:</p>
<pre><code class="language-bash">git branch --all
git branch -r
</code></pre>
<p>The  --merged and --unmerged options can filter this list to branches you have or have not yet merged into the branch you're currently on.</p>
<pre><code class="language-bash">git branch --merged
git branch --no-merged
</code></pre>
<p>To delete a local branch, run the following:</p>
<pre><code class="language-bash">git branch -d &lt;local-branch&gt;
</code></pre>
<p>To push the current branch and set the remote as upstream, use one of the following:</p>
<pre><code class="language-bash">git push --set-upstream origin cps-development
git push -u origin cps-development
</code></pre>
<h3 id="jlv-project-format-for-branches"><a class="header" href="#jlv-project-format-for-branches">JLV Project Format for Branches</a></h3>
<p>All work should be tied to a Jira issue. Work done against the Jira issues should be done within a feature branch that references the Jira item. The format is "issue-type"-jp-"issue-id".</p>
<p>For example:</p>
<pre><code class="language-bash">git branch task-jp-1234
git branch subtask-jp-23456
git branch nfr-jp-6789
</code></pre>
<h3 id="sync-local-branch-with-specific-remote-branch"><a class="header" href="#sync-local-branch-with-specific-remote-branch">Sync Local Branch with Specific Remote Branch</a></h3>
<h3 id="clone-repository-at-specified-branch"><a class="header" href="#clone-repository-at-specified-branch">Clone Repository at Specified Branch</a></h3>
<p>Command to clone a repository at a specific branch and only fetch that branch.</p>
<pre><code class="language-bash">git clone -b &lt;branchname&gt; --single-branch &lt;remote-repo-url&gt;
</code></pre>
<p>For example:</p>
<pre><code class="language-bash">git clone -b develop --single-branch https://github.com/department-of-veterans-affairs/jlv-code.git
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="git-flow"><a class="header" href="#git-flow">Git Flow</a></h1>
<p>This workflow uses three types of branches:</p>
<div class="table-wrapper"><table><thead><tr><th>Branch Name</th><th>Description</th></tr></thead><tbody>
<tr><td>main</td><td>long-lived and contains each of the major product versions</td></tr>
<tr><td>develop</td><td>long-lived and serves as the integraton and build branch</td></tr>
<tr><td>feature</td><td>multiple, short-lived branches used by individual developers</td></tr>
</tbody></table>
</div>
<p>The first step is to complement the default <em><strong>main</strong></em> with a <em><strong>develop</strong></em> branch. A simple way to do this is for one developer to create an empty develop branch locally and push it to the server:</p>
<pre><code class="language-bash">git branch develop
git push -u origin develop
</code></pre>
<p>This branch will contain the complete history of the project, whereas main will contain an abridged version. Other developers should now clone the central repository and create a tracking branch for develop.</p>
<p><strong>Feature Branches</strong>
Each new feature should reside in its own branch, which can be pushed to the central repository for backup/collaboration. But, instead of branching off of main, feature branches use develop as their parent branch. When a feature is complete, it gets merged back into develop. Features should never interact directly with main.</p>
<p><strong>Finishing a feature branch</strong>
When you’re done with the development work on the feature, the next step is to merge the feature_branch into develop.</p>
<pre><code class="language-bash">git checkout develop
git merge feature_branch
</code></pre>
<p>We preceed merges with a Pull Request (PR) and approval. Then, we typically use GitHub to perform the merger from the feature branch into the develop branch.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="c-for-people"><a class="header" href="#c-for-people">C++ for People</a></h1>
<p>Things I always forget.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="getting-started-1"><a class="header" href="#getting-started-1">Getting Started</a></h1>
<h3 id="dev-tools"><a class="header" href="#dev-tools">Dev Tools</a></h3>
<p>My editor of choice is <strong>Visual Studio Code</strong>. However, since I'm following along with both the Deitel and Cherno courses, which both suggsest <strong>Visual Studio</strong>, I'll go ahead and give that a try.</p>
<p>Downloaded Visual Studio Community Edition. Tried to install on my mac, but it turned out to be an exe file, which I presume only works on Windows. Visual Studio for Mac is focused on .NET and C#, as opposd to C++, so that's not going to work.</p>
<p>So, I'll stick with Visual Studio Code, which should be fine.</p>
<h3 id="verify-c-compiler"><a class="header" href="#verify-c-compiler">Verify C++ Compiler</a></h3>
<pre><code class="language-bash">g++ -v
</code></pre>
<h3 id="basic-compile-command"><a class="header" href="#basic-compile-command">Basic Compile Command</a></h3>
<pre><code class="language-xml">g++ -o ./target-filename ./source-filename.cpp
</code></pre>
<p>You can create the executable with or without a filename extension, e.g.:</p>
<pre><code class="language-xml">g++ -o ./target-filename.exe ./source-filename.cpp
</code></pre>
<p>If you would like to output the executable to a different folder, such as ./target, this folder must already exist. Otherwise, the compiler will throw an error, e.g.:</p>
<pre><code class="language-xml">ld: can't open output file for writing:  
        target/prog1.exe, errno=2 for architecture arm64
</code></pre>
<p>To ensure that clang is using more current compiler features, e.g., C++ 11, use the following compile format:</p>
<pre><code class="language-xml">g++ -std=c++11 -o ./target-filename ./source-filename.cpp
</code></pre>
<p>Another good practice is to enable all compilation warnings by adding the "-Wall" option:</p>
<pre><code class="language-xml">g++ -Wall -std=c++11 -o ./target-filename ./source-filename.cpp
</code></pre>
<p>So, putting it all together and using "source" and "target" folders, here's a more complete command.<br />
Note that tis version targets C++ v14 (v11 standard plus minor updates and bug fixes):</p>
<pre><code class="language-xml">g++ -Wall -std=c++14 -o ./target/filename ./source/filename.cpp
</code></pre>
<h3 id="run-executable-file"><a class="header" href="#run-executable-file">Run Executable File</a></h3>
<pre><code class="language-bash">./target-filename
</code></pre>
<p>Remember to include the filename extension, if it has one, e.g.</p>
<pre><code>./target-filename.exe
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="java-for-people"><a class="header" href="#java-for-people">Java for People</a></h1>
<p>Things I always forget.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="getting-started-2"><a class="header" href="#getting-started-2">Getting Started</a></h1>
<h3 id="check-installed-java-versions"><a class="header" href="#check-installed-java-versions">Check Installed Java Versions</a></h3>
<p>To show the current active Java version:</p>
<pre><code class="language-bash">java -version
</code></pre>
<p>To show where MacOS see's Java, use the followig commands:</p>
<pre><code class="language-bash">which java
whereis java
</code></pre>
<p>To show installed Java versions, use one of the following command:</p>
<pre><code class="language-bash">/usr/libexec/java_home --verbose
/usr/libexec/java_home -V
</code></pre>
<h3 id="set-the-default-java-version-for-a-terminal-session"><a class="header" href="#set-the-default-java-version-for-a-terminal-session">Set the Default Java Version for a Terminal Session</a></h3>
<p>Run the following command with the desired Java version as the final parameter:</p>
<pre><code class="language-bash">export JAVA_HOME=`/usr/libexec/java_home -v 0.00.0_000`
</code></pre>
<p>To make this change permanent, set it in your shell init file. For example, if you are using bash, you can set the command in .bash_profile. Add the following sample lines at the end of the file:</p>
<pre><code class="language-bash"># Setting default JDK to version 1.8
export JAVA_HOME=`/usr/libexec/java_home -v 1.8`
</code></pre>
<p>To activate this configuration right away, run the following command:</p>
<pre><code class="language-bash">source .bash_profile
</code></pre>
<p><strong>Note:</strong> See "Environment Variables" section below for instructions on setting both JAVA_HOME and JRE_HOME.</p>
<p>This command reads and executes the .bash_profile in the currently running shell.</p>
<h3 id="install-java"><a class="header" href="#install-java">Install Java</a></h3>
<p>My inclination was to go with Amazon Corretto OpenJDK 8. However, Visual Studio Code add-ins only work with Java 11 and above.</p>
<p>So, went with Amazon Corretto OpenJDK 11.</p>
<pre><code class="language-bash">https://aws.amazon.com/corretto/
https://docs.aws.amazon.com/corretto/latest/corretto-11-ug/downloads-list.html
</code></pre>
<p>Download the appropriate installer package, e.g.:</p>
<blockquote>
<p>amazon-corretto-11.0.12.7.2-macosx-x64.pkg</p>
</blockquote>
<p>Then, double-click to start the installer.</p>
<p>When complete, Corretto should be located on your main disk volume at:</p>
<blockquote>
<p>Macintosh HD &gt; Library &gt; Java &gt; JavaVirtualMachines</p>
</blockquote>
<p><em><strong>August 23, 2023 update:</strong></em> I've traded in my MBP 16" for a new MBA 15" (and loving it). So, I'm standing up the new machine from scratch. With this new setup, I'm upgrading to Amazon Corretto 17.</p>
<h3 id="set-environment-variables"><a class="header" href="#set-environment-variables">Set Environment Variables</a></h3>
<p>After installing Java, you will need to do some configuration, such as setting environment variables.</p>
<p>Add the following lines to ~/.zshrc</p>
<ul>
<li>create file if it doesn't exist</li>
<li>not sure why export statement is used for one of the two lines</li>
</ul>
<pre><code class="language-bash"># Set Java version to Corretto 11
export JAVA_HOME=/Library/Java/JavaVirtualMachines/amazon-corretto-11.jdk/Contents/Home
JRE_HOME=/Library/Java/JavaVirtualMachines/amazon-corretto-11.jdk/Contents/Home
</code></pre>
<p><em>Done and Dusted</em></p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="writing-code"><a class="header" href="#writing-code">Writing Code</a></h1>
<h2 id="basic-java-class-file-structure"><a class="header" href="#basic-java-class-file-structure">Basic Java Class File Structure</a></h2>
<p>Addition.java</p>
<pre><code class="language-java">// Couple of lines to introduce program
// Lorem Ipsum

package com.csylvester.sample;

import java.util.Scanner;

public class Addition {
   
   public static void main(String[] args) {
      Scanner input = new Scanner(System.in);
 
      int number1;
      int number2;
      int sum;

      System.out.print("Enter first integer: ");
      number1 = input.nextInt();
      System.out.print("Enter second integer: ");
      number2 = input.nextInt();
      
      sum = getSum(number1, number2);
      System.out.printf("Sum is %d%n", sum);

      // close scanner
      input.close();
   }

   public static int getSum(int int1, int int2) {
      return int1 + int2;
   }
}
</code></pre>
<p><br /><br /></p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="compiling-code"><a class="header" href="#compiling-code">Compiling Code</a></h1>
<h4 id="simple-command"><a class="header" href="#simple-command">Simple Command</a></h4>
<p>Begin by navigating to the "src" folder of your project.<br />
Then, run the command below.</p>
<pre><code class="language-zsh">javac ClassOne.java ClassTwo.java 
</code></pre>
<h4 id="output-compiled-artifacts-to-target-folder"><a class="header" href="#output-compiled-artifacts-to-target-folder">Output Compiled Artifacts to Target Folder</a></h4>
<p>To direct the compiled classes to a specified folder, use the -d parameter, as shown below.</p>
<pre><code class="language-zsh">javac -d ../target ClassOne.java ClassTwo.java 
</code></pre>
<p>A more complex compile that involves a package path off of the src folder, such as:</p>
<pre><code class="language-zsh">trivia-game/src/com/csw/&lt;java source files&gt;
</code></pre>
<p>From the top-level folder (e.g., trivia-game):</p>
<pre><code class="language-zsh">javac -d ./target ./src/com/csw/TriviaGame.java ./src/com/csw/Quiz.java
</code></pre>
<p>Compiles and places the new .class files in the target folder at:</p>
<pre><code class="language-zsh">trivia-game/target/com/csw/&lt;class files&gt;
</code></pre>
<h3 id="run-java-program"><a class="header" href="#run-java-program">Run Java Program</a></h3>
<h4 id="simple-command-1"><a class="header" href="#simple-command-1">Simple Command</a></h4>
<p>Navigate to the folder where the ClassName.class file is located, then run the command:</p>
<pre><code class="language-zsh">java ClassName 
</code></pre>
<h4 id="more-qualified-command"><a class="header" href="#more-qualified-command">More Qualified Command</a></h4>
<p>To run the program from a location other than where the class file(s) live, you can provide a more qualified command.</p>
<p>For example, to execute the class from the src folder, you can use one of the commands below.</p>
<pre><code class="language-zsh">java -classpath ../target ClassOne
java -cp ../target ClassOne
java -classpath ../target com.csylvester.app.ClassOne
java -cp ../target com.csylvester.app.ClassOne
</code></pre>
<p>To run the more complicated structure executable from the top-level folder (e.g., trivia-game):</p>
<pre><code class="language-zsh">java -cp ./target com.csw.TriviaGame
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="build-tools"><a class="header" href="#build-tools">Build Tools</a></h1>
<p>This page provides information on two popular build automation tools, Maven and Gradle.</p>
<p>Maven is the primary tool used on the VA projects that I support; however, Gradle also has a fairly large market share and user base.</p>
<h3 id="maven"><a class="header" href="#maven">Maven</a></h3>
<p>There are numerous options for installing Maven. I happen to be reading the book, <em>API Security In Action</em> this morning, so let's go with what the author recommends.</p>
<p>Maven can be installed from Homebrew using the following command:</p>
<pre><code class="language-zsh">brew install maven
</code></pre>
<p>To check that Maven is installed properly, run:</p>
<pre><code class="language-zsh">mvn -version
</code></pre>
<h3 id="gradle"><a class="header" href="#gradle">Gradle</a></h3>
<p><a href="https://gradle.org/">https://gradle.org/</a><br />
The Gradle website recommend the use of a package manager, such as SDKMAN! or Homebrew. I decided to go with Homebrew.</p>
<p>If not already installed, go to the Homebrew website for instructions.<br />
<a href="https://brew.sh/">https://brew.sh/</a></p>
<p>Then install Gradle with the following command:</p>
<pre><code class="language-zsh">brew install gradle
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="lamp-for-people"><a class="header" href="#lamp-for-people">LAMP for People</a></h1>
<p>Things I always forget.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="getting-started-3"><a class="header" href="#getting-started-3">Getting Started</a></h1>
<h2 id="setting-up-an-apache-virtual-host"><a class="header" href="#setting-up-an-apache-virtual-host">Setting up an Apache Virtual Host</a></h2>
<p>It is recommended that you develop PHP applications in the web server default root document folder, as opposed to a subfolder. One way to achive this -- especially if you are working on multiple PHP development projects at the same time -- is to set up an Apache virtual host.</p>
<p>For example, for the phpmvc application that I developed (per Dave Hollingworth course), I updated the <code>httpd.conf</code> file to enable virtual servers and the <code>httpd-vhosts.conf</code> file with the section of configuration code below.</p>
<pre><code class="language-bash">&lt;VirtualHost *:80&gt;
    ServerName phpmvc.localhost
    ServerAlias phpmvc.localhost
    DocumentRoot "/Users/chuck/swdev/csw/phpmvc"
    &lt;Directory "/Users/chuck/swdev/csw/phpmvc"&gt;
        Require all granted
        AllowOverride All
    &lt;/Directory&gt;
&lt;/VirtualHost&gt;
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="rust-for-people"><a class="header" href="#rust-for-people">Rust for People</a></h1>
<p>Things I always forget.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="rust-sub-section-2"><a class="header" href="#rust-sub-section-2">Rust Sub Section 2</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="python-for-people"><a class="header" href="#python-for-people">Python for People</a></h1>
<p>Things I always forget.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="getting-started-4"><a class="header" href="#getting-started-4">Getting Started</a></h1>
<h3 id="using-a-shebang-line"><a class="header" href="#using-a-shebang-line">Using a shebang line</a></h3>
<p>Python code can begin with a line that starts with a hash (#) and a bang (!). This line is commonly called the <em>shebang line</em>. It is ignored by Windows, but it's used by Unix-like operating systems, including macOS, to specify the interpreter for the program.</p>
<p>The example below specifies that a program should be run using Python3.</p>
<pre><code class="language-bash">#!/user/bin/env python3
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="jlv-dev-setup"><a class="header" href="#jlv-dev-setup">JLV Dev Setup</a></h1>
<h2 id="install-and-configure-jlv-on-a-local-developer-machine"><a class="header" href="#install-and-configure-jlv-on-a-local-developer-machine">Install and configure JLV on a local developer machine</a></h2>
<p>As outlined in <em>JLV Confluence Developer Handbook - Install and Run JLV 3.0</em><br />
By David King</p>
<p>Updated to reflect MacBook Pro setup, though I tend to switch back and forth between Mac and Windows.</p>
<h2 id="pre-requisites"><a class="header" href="#pre-requisites">Pre-requisites</a></h2>
<ul>
<li>All of the following software needs to be downloaded and installed</li>
<li>Portable versions will work for this project</li>
<li>For Mac install, I will use the appropriate install location(s)</li>
<li>For GFE install, most dev’s use target folder: c:\work</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="java-setup"><a class="header" href="#java-setup">Java Setup</a></h1>
<p>Java 8 preferred, but Java 7 will work</p>
<h3 id="java-installation"><a class="header" href="#java-installation">Java Installation</a></h3>
<p>My inclination was to go with Amazon Corretto OpenJDK 8.<br />
Visual Studio Code add-ins only work with Java 11 and above.<br />
So, went with Amazon Corretto OpenJDK 11.</p>
<blockquote>
<p>7/6/23 update:<br />
Running through complete installation and setup of JLV on new GFE.<br />
This time, I'll go with Amazon Corretto OpenJDK 17 on Windows.<br />
Will keep MacOS installs as is (v11).</p>
</blockquote>
<p>Visited: https://aws.amazon.com/corretto/</p>
<p><strong>MBP</strong><br />
Selected : Download Amazon Corretto 11<br />
Selected platform: macOS aarch64<br />
Selected the “pkg” installer file<br />
amazon-corretto-11.0.15.9.1-macosx-aarch64.pkg</p>
<p><strong>GFE</strong><br />
Selected: Download Amazon Corretto 17<br />
Selected Platform: Windows x64<br />
Selected the "zip" download link<br />
corretto.aws &gt; downloads &gt; latest &gt; amazon-corretto-17-x64-windows-jdk.zip<br />
Unzipped and copied base folder to: ~/swtool/jdk17.0.7_7/</p>
<h4 id="environment-variable-setup"><a class="header" href="#environment-variable-setup">Environment Variable Setup</a></h4>
<p>Once the Java JDK is downloaded and unzipped, refer to the <strong>JLV Dev Setup &gt; Environment</strong> page for various ways to set required environment variables for MacOS and Windows.</p>
<p>And for additional notes that I captured when intially setting up my Dell GFE, refer to:</p>
<blockquote>
<p>VA OneDrive\VA_Notes\1-JLV\gfe-notes-dev\JLV 3.0 Setup.txt</p>
</blockquote>
<h3 id="set-java-version"><a class="header" href="#set-java-version">Set Java Version</a></h3>
<p>There are multiple ways to set the desired default version, either temporarily or permanently.</p>
<p>To show current active Java version:</p>
<pre><code class="language-bash">java -version
openjdk version "11.0.15" 2022-04-19 LTS
OpenJDK Runtime Environment Corretto-11.0.15.9.1 (build 11.0.15+9-LTS)
OpenJDK 64-Bit Server VM Corretto-11.0.15.9.1 (build 11.0.15+9-LTS, mixed mode)
</code></pre>
<p>To show where MacOS see’s Java:</p>
<pre><code class="language-bash">which java
/usr/bin/java
</code></pre>
<pre><code class="language-bash">whereis java
/usr/bin/java
</code></pre>
<p>To show installed Java versions:</p>
<pre><code class="language-bash">/usr/libexec/java_home --verbose (or -V)
Matching Java Virtual Machines (6): (I trimmed length of each line)
    14.0.1 (x86_64) "Oracle Corporation" - "Java SE 14.0.1"
    11.0.11.1 (x86_64) "Amazon.com Inc." - "Amazon Corretto 11"
    11.0.8 (x86_64) "Oracle Corporation" - "Java SE 11.0.8"
    1.8.271.09 (x86_64) "Oracle Corporation" - "Java"
    1.8.0_292 (x86_64) "Amazon" - "Amazon Corretto 8" 
    1.8.0_261 (x86_64) "Oracle Corporation" - "Java SE 8"
</code></pre>
<p>To set the default version of Java for a terminal session:</p>
<pre><code class="language-bash">export JAVA_HOME=`/usr/libexec/java_home -v 1.8.0_292`
export JAVA_HOME=`/usr/libexec/java_home -v 11.0.11.1`
</code></pre>
<p>To make this change permanent you need to set it in your shell init file.<br />
For example if you are using bash then you can set the command in the .bash_profile.<br />
Add the following lines at the end of the file:</p>
<pre><code class="language-bash"># Setting default JDK to version 1.8.
export JAVA_HOME=`/usr/libexec/java_home -v 1.8`
</code></pre>
<p>To activate this configuration right away, you can run:</p>
<pre><code class="language-bash">source .bash_profile
</code></pre>
<p>This command reads and executes the .bash_profile in the current shell.</p>
<p>2/23/22 Notes:<br />
Since I’m running zsh on my mac, I must have updated .zshrc to add this setting, plus others.<br />
I see lines in .zshrc (on one of my Macs) that indicate I’ve set the default Java version to Corretto 11.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="apache-tomcat"><a class="header" href="#apache-tomcat">Apache Tomcat</a></h1>
<p>Apache Tomcat 8 or 9; my preference is Tomcat v9.x</p>
<p><em>September 1, 2023 update:</em><br />
Running through the full setup again using CAG and Windows desktop image. This time, let's go with Tomcat 10x.</p>
<h3 id="tomcat-installation"><a class="header" href="#tomcat-installation">Tomcat Installation</a></h3>
<p>Visited <a href="https://tomcat.apache.org/download-90.cgi">https://tomcat.apache.org/download-90.cgi</a></p>
<p><strong>MacOS Setup</strong><br />
Downloaded: apache-tomcat-9.0.48.tar.gz<br />
Double-clicked the downloaded filename in Finder, which unzipped into Downloads folder<br />
Renamed folder to apache-tomcat-9.0.48<br />
Wanted to copy folder to: /Library<br />
But, was not able to due to not having admin rights to BAH mac</p>
<p>So, created new folder for portable installs: ~/work (recently changed to ~/swtool)<br />
Copied apache-tomcat-9.0.48 folder to: ~/work (moved to ~/swtool)</p>
<p>Created ~/.zshrc file to make some configuration changes.</p>
<p>Updated .zshrc to add environment variables:</p>
<pre><code class="language-bash">CATALINA_HOME=~/work/apache-tomcat-9.0.48
CATALINA_BASE=~/work/apache-tomcat-9.0.48
</code></pre>
<p><strong>Windows Setup</strong><br />
Downloaded: apache-tomcat-9.0.76-windows-x64.zip<br />
Extracted and copied to: %HOMEPATH%\swtool\apache-tomcat-9.0.76</p>
<p>Refer to <strong><em>Environment</em></strong> page for more information on editing environment variables for my account.</p>
<h3 id="tomcat-administration"><a class="header" href="#tomcat-administration">Tomcat Administration</a></h3>
<p>Tomcat can be started by executing one of the following commands:</p>
<pre><code class="language-bash">$CATALINA_HOME/bin/startup.sh
$CATALINA_HOME/bin/catalina.sh start
</code></pre>
<p>After startup, the default web applications included with Tomcat will be available by visiting:<br />
http://localhost:8080/</p>
<p>Tomcat can be shut down by executing either of the following commands:</p>
<pre><code class="language-bash">$CATALINA_HOME/bin/shutdown.sh
$CATALINA_HOME/bin/catalina.sh stop
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="apache-groovy"><a class="header" href="#apache-groovy">Apache Groovy</a></h1>
<p><a href="https://groovy-lang.org/index.html">groovy-lang.org</a></p>
<p>David's instructions indicate Groovy 3.0.7<br />
The currently available 3.x version is Groovy 3.0.8 (or higher)</p>
<p>Downloaded and unzipped: groovy-3.0.8<br />
Unzipped in the Downloads folder<br />
Copied folder to /Library</p>
<p><strong>CPS Note (10/8/22)</strong>
I believe I used <code>~/swtool</code> as the location on my BAH MBP.<br />
So, update all references of <code>/Library</code> to <code>~/swtool</code> for BAH MBP.</p>
<p><strong>July 7, 2023 update for new GFE install</strong><br />
Visited Groovy download page: <a href="https://groovy.apache.org/download.html">https://groovy.apache.org/download.html</a><br />
Clicked "Download 4.0.13" button<br />
Downloaded <em>apache-groovy-sdk-4.0.13.zip</em> to c:/Downloads<br />
Extracted zip file and copied base folder to ~/swtool/groovy-4.0.3.13</p>
<h3 id="validate-groovy-installation"><a class="header" href="#validate-groovy-installation">Validate Groovy Installation</a></h3>
<p>The following information is from <a href="https://groovy-lang.org/install.html">groovy-lang.org/install</a></p>
<p>Validate Groovy install by typing the following in a command shell:</p>
<pre><code>groovysh
</code></pre>
<p>Which should create an interactive groovy shell that accepts Groovy statements.</p>
<p>To run the Swing interactive console type:</p>
<pre><code>groovyConsole
</code></pre>
<p>To run a specific Groovy script type:</p>
<pre><code>groovy SomeScript
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="node"><a class="header" href="#node">Node</a></h1>
<p>Install Node latest version with NPM.</p>
<p>NPM is the important piece here, but node may be useful in the future.</p>
<p>Installed/updated Node (a while back, I believe)</p>
<pre><code>which npm

/usr/local/bin/npm
</code></pre>
<p><a href="https://nodejs.org/en/">nodejs.org</a></p>
<p>To show npm version:</p>
<pre><code>npm -v (or npm -version)

6.14.8
</code></pre>
<p>For a more verbose response:</p>
<pre><code>npm version

chuck@CPS-MBP-2019 /Library % npm version
{
  npm: '6.14.8',
  ares: '1.16.1',
  brotli: '1.0.9',
  cldr: '37.0',
  icu: '67.1',
  llhttp: '2.1.3',
  modules: '83',
  napi: '7',
  nghttp2: '1.41.0',
  node: '14.15.1',
  openssl: '1.1.1g',
  tz: '2020a',
  unicode: '13.0',
  uv: '1.40.0',
  v8: '8.4.371.19-node.17',
  zlib: '1.2.11'
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="source-code"><a class="header" href="#source-code">Source Code</a></h1>
<h2 id="clone-to-local-dev-environment"><a class="header" href="#clone-to-local-dev-environment">Clone to Local Dev Environment</a></h2>
<p>JLV source code downloaded from the develop-react-refactor branch</p>
<ul>
<li>For testing your build, this base branch will work</li>
<li>For doing story work, create a feature or bugfix branch based off of it</li>
</ul>
<p>Since Steven has done some maintenance of jlv-code, I did a full clone from the <strong><em>main</em></strong> branch.</p>
<p>2/23/22 update:
David’s confluence page now states:</p>
<ul>
<li>JLV code downloaded from the latest 3.0 branch
<ul>
<li>For testing your build, this base branch will work. For doing story work, create a feature or bugfix branch based off of it.</li>
</ul>
</li>
</ul>
<p>I asked David to clarify, and he confirmed that we can simply clone the jlv-code repository and then work from whatever branch is desired locally. For example, he mentioned using “develop” as the base branch from which we branch from for our specific work.</p>
<p>Here's what I did:</p>
<pre><code>git clone https://github.com/department-of-veterans-affairs/jlv-code.git
</code></pre>
<h2 id="integrated-development-environment-ide"><a class="header" href="#integrated-development-environment-ide">Integrated Development Environment (IDE)</a></h2>
<p>Install and set up an IDE.</p>
<ul>
<li>IntelliJ Community Edition is used by most of the JLV devs, but any TRM approved IDE will work</li>
<li>I plan to use Visual Studio Code</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="environment"><a class="header" href="#environment">Environment</a></h1>
<p>Once you have all of the prerequisite software installed you will need to do some configuration.</p>
<p>Starting with environment variables, you can set your user account's variables, or use a script file to set them temporarily.</p>
<p>The variables to set and some sample values are as follows:</p>
<p><strong>Windows Setting</strong></p>
<pre><code>JRE_HOME=C:\Work\jdk1.8.0_261
JAVA_HOME=C:\Work\jdk1.8.0_261
</code></pre>
<p>Since I'm now accessing my VA account via CAG and a virtual desktop, there can be oddities related to environment variables and the path. Plus, the path to Java is set via the system-wide environment to point to Oracle Java 1.8. I certainly don't want that.</p>
<p>So, I created a shell script in the <code>~/swtool</code> directory that can be run to set various environment variables, including the PATH variable to find the desired Java version.</p>
<p>The command in the script to update the Windows/Git Bash path is:</p>
<pre><code>set PATH=/swtool/jdk17.0.8_8/bin:$PATH
</code></pre>
<p>To run the script:</p>
<pre><code>source ~/swtool/cpsetup.sh
</code></pre>
<p><strong>Mac Setting</strong><br />
Added the following line to ~/.zshrc</p>
<pre><code>JRE_HOME=/Library/Java/JavaVirtualMachines/amazon-corretto-11.jdk/Contents/Home
</code></pre>
<p>Check value of the environment variable:</p>
<p>Windows info:</p>
<pre><code>echo $JRE_HOME
</code></pre>
<pre><code>JAVA_HOME=C:\Work\jdk1.8.0_261
</code></pre>
<p>Run the following command to set the JAVA_HOME variable to the Amazon Corretto 11 version of the JDK. If this was set to another version previously, it is overridden for the current session.</p>
<pre><code>export JAVA_HOME=/Library/Java/JavaVirtualMachines/amazon-corretto-11.jdk/Contents/Home
</code></pre>
<p>Not sure if need to include the “export” part of this; didn’t include for the JRE_HOME environment variable.</p>
<p>Check value of environment variable:</p>
<pre><code>echo $JAVA_HOME
</code></pre>
<p>To persist the environment variable value, define required variables in the proper bash configuration files. To load new/updated environment variables into current shell session, ensure proper export statement in ~/.zshrc</p>
<pre><code>export JAVA_HOME=/Library/Java/JavaVirtualMachines/amazon-corretto-11.jdk/Contents/Home
</code></pre>
<p>See comment above about the need to include the “export” part of this statement in .zshrc.</p>
<p>Windows info:</p>
<pre><code>CATALINA_BASE=C:\Work\apache-tomcat-9.0.44
CATALINA_HOME=C:\Work\apache-tomcat-9.0.44
</code></pre>
<p>Updated .zshrc to add environment variables:</p>
<pre><code>CATALINA_BASE=/Library/apache-tomcat-9
CATALINA_HOME=/Library/apache-tomcat-9
</code></pre>
<p>Windows info:<br />
Also updated .bashrc to include the CATALINA environment variables.</p>
<p><strong>Apache Groovy Updates</strong><br />
For a Windows install, <em>edit environment variables for your account</em> as follows:</p>
<pre><code>GROOVY_HOME=C:\Work\groovy-3.0.7
</code></pre>
<p>For a MacOS install, did the following:</p>
<p>Updated .zshrc to include environment variable:</p>
<pre><code>GROOVY_HOME=/Library/groovy-3.0.8
</code></pre>
<p><strong>Maven Setup</strong></p>
<pre><code>MAVEN_HOME=C:\Work\apache-maven-3.6.3
</code></pre>
<p>Verify that Maven can be found from OS:</p>
<pre><code>mvn -v
</code></pre>
<p>I must have installed Maven a while back, since it’s already on my mac.</p>
<p>You will also need to adjust your path variable and ensure you have these entries set:</p>
<pre><code>%MAVEN_HOME%\bin
</code></pre>
<p>Is this required for my mac?</p>
<p>The “mvn -v” command above found maven, so maybe I’m good.</p>
<blockquote>
<p>12/13/22 Update: this command is no longer finding Maven on my personal or BAH MBP. So, followed online instructions to download and install Maven on MacOS, as described below.</p>
</blockquote>
<ul>
<li>Visited <a href="https://maven.apache.org/download.cgi">maven.apache.org/download</a></li>
<li>Selected the Binary tar.gz archive (v3.8.6) [2/25/23: mbp 2019 =&gt; v3.9.0]</li>
<li>Used tar command to unzip into Downloads folder [2/25/23: mbp 2019 =&gt; double clicked on tar.gz file to extract]</li>
<li>Moved newly created apache-mavin-3.8.6 folder to ~/swtool</li>
<li>Added the following to ~/.zshrc</li>
</ul>
<pre><code>MAVEN_HOME=~/swtool/apache-maven-3.8.6
export PATH=$MAVEN_HOME/bin:$PATH
</code></pre>
<p>Verified by running <code>mvn -v</code>.</p>
<pre><code>%JAVA_HOME%\bin
</code></pre>
<p>Is this required for my mac?<br />
I am able to run java commands from the command line.</p>
<pre><code>%GROOVY_HOME%\bin
</code></pre>
<p>Updated .zshrc to add to PATH variable.</p>
<pre><code>export PATH=/Library/groovy-3.0.8/bin:$PATH
</code></pre>
<p><strong>C:\Work\node-v14.16.0-win-x64</strong><br />
This needs to be the location of your NPM executable if you are not using the Node version.</p>
<p>Tomcat needs some additional setup. Those instructions can be found in the jMeadows/VDS guide. Make sure you have added the custom batch files, the database driver, and the certs needed to access external endpoints.</p>
<p>NPM will need certs added in order for it to function correctly with the VA VPN.</p>
<p>You will want to tell it the location of the <strong>cacert</strong> file to use with the command:</p>
<pre><code>% npm config set cafile /path/to/cert.pem
</code></pre>
<p>The certificate can be the same one that you may have configured for git.<br />
NOTE: This command support multiple file formats and might not be a .pem file. It may also be a .crt or .jks file.</p>
<p>In the JLV code, you will want to update the properties file.</p>
<p>The only property file you should need to modify is:</p>
<blockquote>
<p>application-development.propeties (or application-production.properties)</p>
</blockquote>
<p>The only property that should be modified for a basic setup is the:</p>
<blockquote>
<p>jMeadows URL</p>
</blockquote>
<p>Set it to your local instance if you have one, or you can get the silver instance config from another developer.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="build-and-deploy"><a class="header" href="#build-and-deploy">Build and Deploy</a></h1>
<p>Navigate to your project code folder with a command prompt or powershell prompt.<br />
Continue to: /JLV/react-client</p>
<p>The first time you are building the application, you will need to run:</p>
<pre><code>npm install
</code></pre>
<p>This will add a <strong>node-modules</strong> folder and begin to download a number of dependencies.</p>
<p>This command will likely error out with complaints regarding missing Python or Visual Studio. This is normal and once you reach those errors, you are done. If you see a different error, that will need to be troubleshot. If the error is about a self-signed certificate, go back and double check the npm cert step.</p>
<p>Once install is done, run:</p>
<pre><code>npm run-script build
</code></pre>
<p>2/23/22 update:<br />
David’s instructions now say to run:</p>
<pre><code>npm run build
</code></pre>
<p>This will take a minute and will build a handful of artifacts, including an app.js.</p>
<p>If this succeeds, you are done with NPM for now.</p>
<p>2/23/22 update:<br />
This step resulted in the creation of a ton of new artifacts in:</p>
<pre><code>JLV/src/main/resources/static/javascripts/react-client
</code></pre>
<p>This includes app.js, as David indicates in his notes.</p>
<p>Navigate back to /JLV and run:</p>
<pre><code>mvn clean install -DskipTests -Ptomcat -Dhttps.protocols=TLSv1.2
</code></pre>
<p>This will build, package and deploy to tomcat.</p>
<p>Edited JLV/pom.xml to try and get it to work on MacOS.</p>
<p>2/23/22 update:<br />
This step failed. One of the errors points to the lack of a .bat file related to shutting down Catalina.<br />
Perhaps I need to create a .sh version, or change the POM (or whatever) to use the .sh as opposed to the .bat.</p>
<h2 id="building-for-development"><a class="header" href="#building-for-development">Building for Development</a></h2>
<p>If you make changes to the groovy controllers or java files, the mvn command is all you need to use to rebuild.</p>
<p>If you make changes to css or javascript files, you will need to run the npm build command.</p>
<p>When working with the javascript files during development, you will want to use one of the development NPM script options. These add source maps that will allow you to set breakpoints while using the browser debugger.</p>
<p>The first option is:</p>
<pre><code>npm run-script start
</code></pre>
<p>or</p>
<pre><code>npm start
</code></pre>
<p>This will put npm in a file watcher mode that updates the app.js artifact anytime you make changes to the project files.
You will still need to package and deploy the changes with a Maven command if you want to use those changes.</p>
<p>Another option is:</p>
<pre><code>npm run-script tomcatwatcher
</code></pre>
<p>This will also start a file watcher, but the output will be directly into the tomcat instance. This is useful when you are only updating javascript files and want to test changes faster.</p>
<p>A couple of notes for the tomcat watcher:</p>
<ol>
<li>If you redeploy the whole JLV component with a maven command, you will need to restart the file watcher or make a change that causes an app.js update.</li>
<li>If you are not using the default JLV context, change the 'context' variable in webpack.config.tomcat.js to the appropriate value.</li>
<li>For both file watchers, there is a bit of a delay before the changes are compiled and copied over. Make sure to give it enough time before refreshing your test page.</li>
</ol>
<div style="break-before: page; page-break-before: always;"></div><h1 id="mcode-for-people"><a class="header" href="#mcode-for-people">mCODE for People</a></h1>
<p>Things I always forget.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="getting-started-5"><a class="header" href="#getting-started-5">Getting Started</a></h1>
<h3 id="background"><a class="header" href="#background">Background</a></h3>
<p>Discovered the mCode / CodeX initiative as part of my work on the VA National Clozapine Registry (NCR) redesign project. The scope of the redesign efforts is broder than the current application (Clozapine Registry), and will include Medication Use Evaluation (MUE) and Risk Evaluation and Mitigation (REMS) drug safety programs.</p>
<p>For the REMS aspect, FDA has partnered with MITRE to build a prototype application that demonstrate REMS capability. This prototype is made up of several components, each of which is managed within GitHub. This project is open source and encourages particpation by non-FDA/MITRE contributors.</p>
<p>So far, I've found it pretty interesting and will attempt to participate as a contributor. As a start, I have forked each of the repositories from the https://github.com/mcode organization.</p>
<p>The mCode repositories are:</p>
<pre><code class="language-text">https://github.com/mcode/rems-setup.git
https://github.com/mcode/test-ehr.git
https://github.com/mcode/request-generator.git
https://github.com/mcode/rems-admin.git
https://github.com/mcode/pims.git
https://github.com/mcode/rems-smart-on-fhir.git
</code></pre>
<h3 id="setup-guide"><a class="header" href="#setup-guide">Setup Guide</a></h3>
<p>The FDA/MITRE team has created a repository, <code>rems-setup</code> that provides comprehensive setup information for contributors who what to set up a simple environment, a Docker-based environment, or a full environment that runs each of the components independently.  My inclination is to go with a Non-Docker full developer setup.</p>
<h3 id="prerequisites"><a class="header" href="#prerequisites">Prerequisites</a></h3>
<h4 id="java"><a class="header" href="#java">Java</a></h4>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->


                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">

            </nav>

        </div>

        <!-- Livereload script (if served using the cli tool) -->
        <script>
            const wsProtocol = location.protocol === 'https:' ? 'wss:' : 'ws:';
            const wsAddress = wsProtocol + "//" + location.host + "/" + "__livereload";
            const socket = new WebSocket(wsAddress);
            socket.onmessage = function (event) {
                if (event.data === "reload") {
                    socket.close();
                    location.reload();
                }
            };

            window.onbeforeunload = function() {
                socket.close();
            }
        </script>



        <script>
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr.min.js"></script>
        <script src="mark.min.js"></script>
        <script src="searcher.js"></script>

        <script src="clipboard.min.js"></script>
        <script src="highlight.js"></script>
        <script src="book.js"></script>

        <!-- Custom JS scripts -->

        <script>
        window.addEventListener('load', function() {
            window.setTimeout(window.print, 100);
        });
        </script>

    </div>
    </body>
</html>
